// ++++++++++++++++++++++++++++++++++++++++++++++++++
//		TYPEWRITER: Escribir el texto letra por letra
// ++++++++++++++++++++++++++++++++++++++++++++++++++
function showmeChar(e,t,n){$(e).slideUp();$(t).slideDown().attr("data-init",n)}jQuery.fn.typwriter=function(e){var t=$.extend({parrafs:"p",timeWrite:50},e),n=function(e,n){var i=$(e).text(),s=0;$(e).text("");setTimeout(function(){var n=setInterval(function(){var t=r(s);$(e).text(i.substring(0,s++)+t);if(s>=i.length){clearInterval(n);$(e).text(i)}},t.timeWrite)},n)},r=function(e){return e%2===1?"_":""};return this.each(function(){var e=$(this).find(t.parrafs),r=10,i=t.timeWrite;if(e.length)for(var s=0;s<e.length;s++){i=r*t.timeWrite;r+=e.eq(s).text().length;n(e.eq(s),i)}else n(this,t.timeWrite)})};jQuery.fn.moveSpaceship=function(e){var t=$.extend({time:5e3,margin:20},e),n,r,i=new Array(8),s=function(e){for(var n=0;n<8;n+=2)$(e).animate({marginTop:i[n],marginLeft:i[n+1]},t.time*(n+1))},o=function(e){n=parseInt($(e).css("marginTop"),10);r=parseInt($(e).css("marginLeft"),10);i[0]=n-t.margin;i[1]=r+t.margin;i[2]=n+t.margin;i[3]=r+t.margin;i[4]=n+t.margin;i[5]=r-t.margin;i[6]=n-t.margin;i[7]=r-t.margin};return this.each(function(){o(this);s(this);var e=this;setInterval(function(){s(e)},t.time*4,function(){e=n=r=i=null})})};jQuery.fn.toggleClase=function(e){var t=$.extend({time:50,clase:"bigFlame"},e),n=function(e){n=setInterval(function(){setTimeout(function(){$(e).toggleClass(t.clase)},t.time/2)},t.time)};return this.each(function(){n(this)})};jQuery.fn.moveObj=function(e){var t=$.extend({interval:400,pixelesLeft:1,pixelesTop:0},e),n,r,i,s,o,u=function(){n=$(o).css("background-position");r=n.indexOf("px");s=parseInt(n.substr(r+3,n.lastIndexOf("px")),10)-t.pixelesTop;i=parseInt(n.substr(0,r),10)-t.pixelesLeft;r!==-1?$(o).css("background-position",i+"px "+s+"px"):$(o).css("background-position","1px 0px")};return this.each(function(){o=this;setInterval(function(){u(o)},t.interval,function(){o=n=r=i=s=null})})};jQuery.fn.gotoPlanet=function(e){var t=$.extend({nave:".space-spaceship",planeta:".space-planets7",planetas:".spacePlanets",recorrePlanetas:"-1200px",clasePlaneta:"growPlanet",claseBtn:"active",claseGlow:"glowMe",claseBlur:"blurMe",claseGotPlanet:"gotPlanet",claseArrive:"arrivePlanet",timeBtn:100,timeGlow:500,timePlanets:500,hideItem:"hideItem",typingObj:".space-text",modal:".modalWindow",numVortex:5,initCanvas:!1},e),n,r,i,s=function(e){r=setInterval(function(){setTimeout(function(){$(e).find("a").toggleClass(t.claseGlow)},t.timeGlow/2)},t.timeGlow)},o=function(e){var n=0;i=setInterval(function(){if(n<t.numVortex){n+=1;$(e).find("a").addClass(t.claseBtn+n).removeClass(t.claseBtn+(n-1))}else{clearInterval(i);u();$(e).slideUp()}},t.timeBtn)},u=function(){$(t.planetas).each(function(e){$(this).animate({left:t.recorrePlanetas},t.timePlanets*e,function(){$(this).remove()})});a()},a=function(){$(t.nave).addClass(t.claseBlur);setTimeout(function(){$(t.nave).addClass(t.claseGotPlanet).removeClass(t.claseBlur);$(t.planeta).animate({left:0},400);setTimeout(function(){$(t.nave).addClass(t.claseArrive)},100);setTimeout(function(){f()},1500)},1e3)},f=function(){$(n).siblings(t.modal).slideDown().chooseCharacter({initCanvas:t.initCanvas});l(t.planeta);$(t.nave).hide().remove();$(n).remove()},l=function(e){$(e).slideUp("fast",function(){$(this).remove()})};return this.each(function(){s(this);n=this;$(this).on({click:function(e){e.preventDefault();clearInterval(r);o(this);l($(this).siblings(t.typingObj))},mouseenter:function(){clearInterval(r)},mouseleave:function(){s(n)}})})};jQuery.fn.chooseCharacter=function(e){var t=$.extend({title:"h2",astronauts:".astronauta",showMeFront:"showMeFront",timeAstronauts:100,hand:".astronauta-hand",handClass:"shakeHand",handNum:9,timeSalute:2e3,timeShake:50,walkClass:"animateMe",walkSteps:12,timeWalk:120,initCanvas:!1},e),n,r=function(e){var n=$(e).find(t.astronauts),r=0,s=setInterval(function(){n.eq(r).addClass(t.showMeFront);r++;r>=n.length&&clearInterval(s)},t.timeAstronauts);$(e).find(t.astronauts).each(function(){i(this,Math.floor(Math.random()*(1e4-t.timeSalute)+t.timeSalute))})},i=function(e,n){var r=0;setInterval(function(){var n=setInterval(function(){if(r<t.handNum){r+=1;$(e).each(function(){$(this).find(t.hand).addClass(t.handClass+r).removeClass(t.handClass+(r-1))})}else{r=0;clearInterval(n);$(e).each(function(){$(this).find(t.hand).removeClass(t.handClass+t.handNum)})}},t.timeShake)},n)},s=function(e){$(e).addClass(t.walkClass).siblings().removeClass(t.walkClass);var n=0,r=setInterval(function(){if(n<t.walkSteps){n+=1;$(e).addClass(t.walkClass+n).removeClass(t.walkClass+(n-1))}else{clearInterval(r);setTimeout(function(){o(e)},1e3)}},t.timeWalk)},o=function(e){var r=$(n).parent().siblings("canvas");$(e).removeClass(t.walkClass+t.walkSteps).removeClass(t.walkClass);$(n).slideUp("fast");r.attr("data-character",$(e).data("character")).attr("data-init",$(n).data("init"));t.initCanvas($(e).attr("data-character"),$(n).attr("data-init"));setTimeout(function(){r.slideDown("fast")},1e3)};return this.each(function(){n=this;$(this).find(t.title).typwriter();r(this);$(this).find(t.astronauts).click(function(){s(this)})})};